### Creating docs

Documents are created using [markdown](http://en.wikipedia.org/wiki/Markdown), a light weight markup language. The docs are generated by some simple controller code that will find any file with the `.md` extension. These docs are automatically categorised by plugin and do not need to be compiled to view. The can even be read quite easily without even being converted to HTML.

### Doc categories

There are three categories a doc can be in:

- Developer: These are docs aimed at developers looking to build custom plugins and extend Infinitas
- Designer: These docs are aimed at designers trying to customise the look and feel of an Infinitas powered website
- User: These docs are aimed at administrators that run an Infinitas powered website on a day to day basis

Pages will automatically have links to various things such as a switch for the documentation type Eg: `[/infinitas\_docs/switch/developer](/infinitas\_docs/switch/developer)` and links for navigating the various plugins. Errors are also handled for missing pages such as `[Missing Plugin](/infinitas\_docs/MissingPlugin)` or `[Missing Page](/infinitas\_docs/InfinitasDocs/missing_page)`

### Main page

The main documentation page for a plugin is created using a file called `readme.md`. This is **case insensitive** so `ReadMe.md` and README.md` are also valid. It is best to keep this file relativly short if you are making use of more than just a readme file for the documentation. The structure of a main page for a plugin looks similar to the following

    <div class="infinitas_docs">
      <h1>Plugin Name</h1>
      <div>
       <div class="readme">Your overview of the plugin</div>
       <div>Links to documentation</div>
       <div>General navigation links</div>
      </div>
    </div>

### Markdown

All that is required is to create markdown files with a `.md` extension anywhere in a plugin. It is recomended to use `/YourPlugin/Doc/*` as the location for documentation so that it is easy to find if not viewing though the site.

The markdown parser being used to render the pages can be found [here](https://github.com/garygolden/markdown-oo-php). The Infinitas version is part of the [Developer](https://github.com/Infinitas-Plugins/developer) plugin and has been forked from `garygolden's` repo.

### Styles

When viewed in a browser through Infinitas, documentation might be affected by the sites theme. The InfinitasDocs plugin includes some basic styles that should make the docs readable regardless of how the theme has been styled. You can also include your own styles via the [events](/infinitas\_docs/Events) system to change the overall look of the docs.

### Images

The [core Infinitas plugins](https://github.com/infinitas/infinitas) and [officially supported plugins](https://github.com/Infinitas-Plugins) have images hosted on the Infintias CMS servers.

The images can be found at `http://assets.infinitas-cms.org/docs` and are stored in the following structure:

- Core Plugins: /docs/`Core/PluginName`/some-image.png
- Developer Plugin: /docs/`Developer`/some-image.png
- Official Plugins: /docs/`Plugins/PluginName`/some-image.png
- General images: /docs/global/some-image.png

If you are building a plugin that requires documentation that does not fit into any of the above categories you will need to host the images yourself. Its not recomended to have the images as part of the plugins repository but you could do that if required.

A number of free images hosting providers are available with permanent storage that could be used. Below are some recomendations <http://imgur.com>

- [http://imgur.com](http://imgur.com)
- [http://minus.com](http://minus.com)

Images are by default displayed as thumbs, there is little use to having thumbs and full size images and makes for more work to maintain with various sizes of images available.
Images wrapped in a link will be displayed in a popup with a bit of JS magic from the InfinitasDocs and Thickbox plugin. A title set on the image will also be displayed in the popup.

	// image tag
	![]\(/some/image.png\ "title") // displayed normally

	// url tag
	[some]\(url\)

	// both together
	[![]\(/some/image.png\ "title")]\(/some/image.png\)

### Links

External links are automatically opened in new windows/tabs. An external link is anything that does not start with `/` (relative urls) or does not contain the host.

Plugin names are automatically linked to the main docs for the particular plugin. The match is done using word bounds `\b` and **is** case sensitive. The `preg\_replace()` will not affect plugin names that are already linked, but will if they are linked like `\[some Users plugin\]\(/some/url\)`.

### Security

If debug is enabled the documentation can be viewed using a web browser by navigating to `/infinitas\_docs` on an Infinitas powered web site. If you would like to be able to view the documentation while debug is disabled there is an option in the configs `InfinitasDocs.allow_live` which when set to true will allow the docs to be viewed always.

Markdown files are searched for using SPL classes for Iteration and checks to make sure the plugin is valid and the file has an extension of `.md`.

You can find out more about hiding what is displayed and when it will be displayed [here](/infinitas\_docs/InfinitasDocs/developer-hiding-docs).

### Tips

- When writing documentation it is easy to reference a link to somewhere in the application such as `[/admin](/admin)`. This is especially handy for building user guides. You can also use links such as `[/infinitas\_docs/InfinitasDocs/roadmap](/infinitas\_docs/InfinitasDocs/roadmap)` as the routing is hard coded and should not change.

- Normally markdown requires a new line below something so that it will generate properly. In order to reduce issues with not having new lines at the end of files all the content parsed by the markdown parser has a `\n` automatically appended to the content.

- For more usage examples on using markdown see the [example page](/infinitas\_docs/InfinitasDocs/developer-markdown-samples)